<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Stock Dashboard</title>
  <link rel="stylesheet" href="style.css" />
  <script src="db.js"></script>
  <script src="dashboard.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <nav>
    <div class="logo"><strong>Your Name</strong></div>
    <div class="nav-links">
      <a href="frontpage.html">Home</a>
      <a href="dashboard.html">Dashboard</a>
      <a href="blog.html">Blog</a>
    </div>
  </nav>
  <div class="stock-input">
    <h2>Add New Stock</h2>
    <div class="flex-container">
      <div>
        <form id="addStockForm">
          <input type="text" id="stockIsin" placeholder="ISIN (e.g. US0378331005)" required />
          <input type="number" step="0.01" id="entryValue" placeholder="Entry Value" required />
          <input type="number" step="0.01" id="quantity" placeholder="Quantity" required />
          <input type="text" id="currency" placeholder="Currency (e.g. USD/EUR)" required />
          <button type="submit">Add Stock</button>
        </form>
      </div>
      <div>
        <button id="dashboard_export" class="primary">Export</button>
        <button id="dashboard_import">Import</button>
        <input type="file" id="dashboard_import_file" class="hidden" accept=".json,.jsonl,application/json,text/plain" />
      </div>
      <div>
        <input type="text" id="search-box" placeholder="Search...">
        <ul id="suggestions"></ul>
      </div>
  </div>
  </div>
  <div class="container">
    <h1>Stock Dashboard</h1>

    <div class="dashboard">
      <div class="module" draggable="true" id="stock-list">
        <h2>Tracked Stocks</h2>
        <table>
          <thead>
            <tr><th>Symbol</th><th>Entry</th><th>Now</th><th>%</th><th>Graph</th></tr>
          </thead>
          <tbody id="stock-table"></tbody>
        </table>
      </div>

      <div class="module hidden" id="graph-container">
        <h2>Stock Graph</h2>
        <canvas id="stockChart" width="400" height="200"></canvas>
        <button onclick="toggleGraph()">Close</button>
      </div>

      <div class="module" draggable="true" id="total-assets">
        <h2>Total Asset Evaluation</h2>
        <p id="total-value">$0.00</p>
        <p id="total-change" class="percent-change"></p>
        <canvas id="totalChart" width="300" height="150"></canvas>
      </div>

      <div class="module" draggable="true" id="pie-chart">
        <h2>Portfolio Allocation</h2>
        <canvas id="pieChart" width="300" height="300"></canvas>
      </div>


    </div>
  </div>

  <footer>
    Â© 2025 Your Name. All rights reserved.
  </footer>

  <script>
    // Your Alpha Vantage API Key
    const apiKey = 'CD3OSDESE8WB6KOL';
    const SES_SA = 'SESG.PAR';
  </script>
</body>
</html>
